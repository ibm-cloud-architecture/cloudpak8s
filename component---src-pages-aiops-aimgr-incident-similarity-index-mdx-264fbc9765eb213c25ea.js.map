{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/index.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.js","webpack:///./node_modules/gatsby-theme-carbon/src/templates/Default.js","webpack:///./node_modules/gatsby-theme-carbon/src/components/EditLink/EditLink.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageTabs/PageTabs.module.scss","webpack:///./node_modules/gatsby-theme-carbon/src/components/PageHeader/PageHeader.module.scss","webpack:///./src/pages/aiops/aimgr/incident-similarity/index.mdx"],"names":["PageHeader","title","theme","tabs","className","cx","styles","pageHeader","withTabs","length","darkMode","id","text","EditLink","relativePagePath","repositoryProp","repository","useStaticQuery","site","siteMetadata","baseUrl","subDirectory","href","branch","row","link","PageTabs","render","this","props","slug","currentTab","split","filter","Boolean","slice","pageTabs","map","tab","slugifiedTab","slugify","lower","strict","selected","currentTabRegex","RegExp","replace","key","selectedItem","listItem","to","tabsContainer","aria-label","list","React","Component","Default","pageContext","children","location","Title","frontmatter","titleType","frontmatterTheme","description","keywords","interiorTheme","useMetadata","pathPrefix","pathname","Layout","homepage","pageTitle","pageDescription","pageKeywords","label","Main","padded","NextPrevious","Utils","module","exports","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-aiops-aimgr-incident-similarity-index-mdx-264fbc9765eb213c25ea.js","sourcesContent":["import PageHeader from './PageHeader';\n\nexport default PageHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport cx from 'classnames';\nimport styles from './PageHeader.module.scss';\n\nconst PageHeader = ({ title, theme, tabs = [] }) => (\n  <div\n    className={cx(styles.pageHeader, {\n      [styles.withTabs]: tabs.length,\n      [styles.darkMode]: theme === 'dark',\n    })}>\n    <div className=\"bx--grid\">\n      <div className=\"bx--row\">\n        <div className=\"bx--col-lg-12\">\n          <h1 id=\"page-title\" className={styles.text}>\n            {title}\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\nPageHeader.propTypes = {\n  /**\n   * Specify the title for the page\n   */\n  title: PropTypes.node,\n};\n\nexport default PageHeader;\n","import EditLink from './EditLink';\n\nexport default EditLink;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { link, row } from './EditLink.module.scss';\n\nconst EditLink = ({ relativePagePath, repository: repositoryProp }) => {\n  const {\n    site: {\n      siteMetadata: { repository },\n    },\n  } = useStaticQuery(graphql`\n    query REPOSITORY_QUERY {\n      site {\n        siteMetadata {\n          repository {\n            baseUrl\n            subDirectory\n            branch\n          }\n        }\n      }\n    }\n  `);\n\n  const { baseUrl, subDirectory, branch } = repositoryProp || repository;\n\n  const href = `${baseUrl}/edit/${branch}${subDirectory}/src/pages${relativePagePath}`;\n\n  return baseUrl ? (\n    <div className={`bx--row ${row}`}>\n      <div className=\"bx--col\">\n        <a className={link} href={href}>\n          Edit this page on GitHub\n        </a>\n      </div>\n    </div>\n  ) : null;\n};\n\nEditLink.propTypes = {\n  repository: PropTypes.shape({\n    baseUrl: PropTypes.string,\n    subDirectory: PropTypes.string,\n    branch: PropTypes.string,\n  }),\n  relativePagePath: PropTypes.string,\n};\n\nexport default EditLink;\n","import PageTabs from './PageTabs';\n\nexport default PageTabs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'gatsby';\nimport slugify from 'slugify';\nimport cx from 'classnames';\n\nimport {\n  tabsContainer,\n  list,\n  selectedItem,\n  listItem,\n  link,\n} from './PageTabs.module.scss';\n\nexport default class PageTabs extends React.Component {\n  render() {\n    const { title, tabs, slug } = this.props;\n    const currentTab = slug.split('/').filter(Boolean).slice(-1)[0];\n\n    const pageTabs = tabs.map((tab) => {\n      const slugifiedTab = slugify(tab, { lower: true, strict: true });\n      const selected = slugifiedTab === currentTab;\n      // matches with or without trailing slash: /?\n      // matches with or without hash link: (#.*)?\n      const currentTabRegex = new RegExp(`${currentTab}/?(#.*)?$`);\n      const href = slug.replace(currentTabRegex, slugifiedTab);\n      return (\n        <li key={tab} className={cx({ [selectedItem]: selected }, listItem)}>\n          <Link className={link} to={`${href}`}>\n            {tab}\n          </Link>\n        </li>\n      );\n    });\n\n    return (\n      <div className={tabsContainer}>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--col-lg-12 bx--col-no-gutter\">\n              <nav aria-label={title}>\n                <ul className={list}>{pageTabs}</ul>\n              </nav>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPageTabs.propTypes = {\n  tabs: PropTypes.array,\n  slug: PropTypes.string,\n};\n","import React from 'react';\nimport slugify from 'slugify';\nimport { useStaticQuery, graphql } from 'gatsby';\n\nimport Utils from '../components/Utils';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport EditLink from '../components/EditLink';\nimport NextPrevious from '../components/NextPrevious';\nimport PageTabs from '../components/PageTabs';\nimport Main from '../components/Main';\nimport useMetadata from '../util/hooks/useMetadata';\n\nconst Default = ({ pageContext, children, location, Title }) => {\n  const { frontmatter = {}, relativePagePath, titleType } = pageContext;\n  const {\n    tabs,\n    title,\n    theme: frontmatterTheme,\n    description,\n    keywords,\n  } = frontmatter;\n\n  const { interiorTheme } = useMetadata();\n\n  // get the path prefix if it exists\n  const {\n    site: { pathPrefix },\n  } = useStaticQuery(graphql`\n    query PATH_PREFIX_QUERY {\n      site {\n        pathPrefix\n      }\n    }\n  `);\n\n  // let gatsby handle prefixing\n  const slug = pathPrefix\n    ? location.pathname.replace(pathPrefix, '')\n    : location.pathname;\n\n  const getCurrentTab = () => {\n    if (!tabs) return '';\n    return (\n      slug.split('/').filter(Boolean).slice(-1)[0] ||\n      slugify(tabs[0], { lower: true })\n    );\n  };\n\n  const currentTab = getCurrentTab();\n\n  const theme = frontmatterTheme || interiorTheme;\n\n  return (\n    <Layout\n      tabs={tabs}\n      homepage={false}\n      theme={theme}\n      pageTitle={title}\n      pageDescription={description}\n      pageKeywords={keywords}\n      titleType={titleType}>\n      <PageHeader\n        title={Title ? <Title /> : title}\n        label=\"label\"\n        tabs={tabs}\n        theme={theme}\n      />\n      {tabs && (\n        <PageTabs\n          title={title}\n          slug={slug}\n          tabs={tabs}\n          currentTab={currentTab}\n        />\n      )}\n      <Main padded>\n        {children}\n        <EditLink relativePagePath={relativePagePath} />\n      </Main>\n      <NextPrevious\n        pageContext={pageContext}\n        location={location}\n        slug={slug}\n        tabs={tabs}\n        currentTab={currentTab}\n      />\n      <Utils />\n    </Layout>\n  );\n};\n\nexport default Default;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"EditLink-module--bx--text-truncate--end--2pqje\",\"bxTextTruncateFront\":\"EditLink-module--bx--text-truncate--front--3_lIE\",\"link\":\"EditLink-module--link--1qzW3\",\"row\":\"EditLink-module--row--1B9Gk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageTabs-module--bx--text-truncate--end--267NA\",\"bxTextTruncateFront\":\"PageTabs-module--bx--text-truncate--front--3xEQF\",\"tabsContainer\":\"PageTabs-module--tabs-container--8N4k0\",\"list\":\"PageTabs-module--list--3eFQc\",\"listItem\":\"PageTabs-module--list-item--nUmtD\",\"link\":\"PageTabs-module--link--1mDJ1\",\"selectedItem\":\"PageTabs-module--selected-item--YPVr3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bxTextTruncateEnd\":\"PageHeader-module--bx--text-truncate--end--mZWeX\",\"bxTextTruncateFront\":\"PageHeader-module--bx--text-truncate--front--3zvrI\",\"pageHeader\":\"PageHeader-module--page-header--3hIan\",\"darkMode\":\"PageHeader-module--dark-mode--hBrwL\",\"withTabs\":\"PageHeader-module--with-tabs--3nKxA\",\"text\":\"PageHeader-module--text--o9LFq\"};","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/ibm-cloud-architecture/cloudpak8s/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`In this section we describe the configuration of Incident Similarity for Watson AIOps AI Manager on IBM RedHat OpenShift Kubernetes Service (ROKS).\nThis document was written based on our experience configuring Incident Similarity for AI Manager v2.1 on Red Hat OpenShift 4.5.`}</p>\n    <h2>{`Exporting Incidents from ServiceNow`}</h2>\n    <p>{`This section will describe how to manually export incident data from ServiceNow.`}</p>\n    <p>{`Log in to ServiceNow and using the `}<strong parentName=\"p\">{`Filter Navigator`}</strong>{` search for `}<strong parentName=\"p\">{`Incidents`}</strong>{`. Select `}<strong parentName=\"p\">{`All`}</strong>{` under `}<strong parentName=\"p\">{`Incident`}</strong>{` to bring up a list of all the incidents.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"267px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"186.1423220973783%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAlABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAcKrFw5WLKspeWEZYCtYEf/EAB0QAAEDBQEAAAAAAAAAAAAAABACAxIAAREhMkH/2gAIAQEAAQUClrJ2PKQiVg1yGuf/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AV//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AV//xAAUEAEAAAAAAAAAAAAAAAAAAAAw/9oACAEBAAY/An//xAAfEAEAAgIBBQEAAAAAAAAAAAABABEQMSFBcYGhsfD/2gAIAQEAAT8hsbep4xT8RuiWorfOQWq7nAF04294t9MfWf/aAAwDAQACAAMAAAAQd84PA/8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAEDAQE/EIjHP//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QX//EAB4QAQEBAAEEAwAAAAAAAAAAAAERACExQVGxYXGh/9oACAEBAAE/EAyHggR7mUtRPyGRGlTkImjYfpJmS1hCvQy6XLlIqDPDdXy5sckcZUB2JXUXjfs+jAA6jvccNNzV8/Rv/9k=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"sn all\",\n        \"title\": \"sn all\",\n        \"src\": \"/static/867b89b31881bdb6e8925725b578b8d5/ad53e/sn-all.jpg\",\n        \"srcSet\": [\"/static/867b89b31881bdb6e8925725b578b8d5/ad53e/sn-all.jpg 267w\"],\n        \"sizes\": \"(max-width: 267px) 100vw, 267px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Filter the list to include only records where `}<inlineCode parentName=\"p\">{`State`}</inlineCode>{` is `}<inlineCode parentName=\"p\">{`Closed`}</inlineCode>{`. Incidents records where `}<inlineCode parentName=\"p\">{`State`}</inlineCode>{` is `}<inlineCode parentName=\"p\">{`Resolved`}</inlineCode>{` are skipped/discarded by AI Manager consumption process. If we want to include resolved incidents, we can include them in the filter here, but we will need to massage the records and set the `}<inlineCode parentName=\"p\">{`state`}</inlineCode>{` field to `}<inlineCode parentName=\"p\">{`Closed`}</inlineCode>{` before loading them in to AI Manager.`}</p>\n    <p>{`Keep in mind that most ServiceNow instances will put an upper limit on the number of records that can be exported through the UI (e.g. 10000). If the number of records we want to export are greater than this upper bound, we can filter the list according to date in order to reduce the number of records. We can then export them in chunks that stay under the record limit. For example, first export is incident records from current year, second export is incidents from previous year, etc.`}</p>\n    <p>{`Click the cog wheel to personalize the list columns. Include the following columns, if not already included.`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Column`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Number`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Opened`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Short Description`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Priority`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`State`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Updated`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Business duration`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Closed`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Resolved`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Created`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Description`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Parent Incident`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Problem`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Resolution notes`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Severity`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Impact`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Configuration Item`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": \"left\"\n          }}>{`Comments and Work notes`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <p>{`To export the records, right click on any column heading, go to `}<strong parentName=\"p\">{`Export`}</strong>{` and select `}<strong parentName=\"p\">{`CSV`}</strong>{`. You must select `}<strong parentName=\"p\">{`CSV`}</strong>{` as the export format, as it’s the only format that reserves all the comments. After the export is complete, click `}<strong parentName=\"p\">{`Download`}</strong>{` to download the exported records in CSV format.`}</p>\n    <h2>{`Converting to JSON`}</h2>\n    <p>{`The next step is to take the downloaded CSV file(s) from ServiceNow and convert them to “JSON Lines” format for uploading to AI Manager.`}</p>\n    <p>{`A Python script is provided here to assist in conversion from CSV to JSONL. `}<strong parentName=\"p\">{`Note, that this script is a beta helper script and will most likely need customized to your environment.`}</strong></p>\n    <p>{`The script requires Python be installed on your workstation.`}</p>\n    <p>{`Download `}<a parentName=\"p\" {...{\n        \"href\": \"/aa44bf172650b549d4456a3c24d91e08/incidents.py\"\n      }}>{`incidents.py`}</a>{` and rename the source CSV file to `}<strong parentName=\"p\">{`incidents.csv`}</strong>{` placing it in the same directory.`}</p>\n    <p>{`Run the following to generate JSON lines formatted output.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`python incident.py > incidents.json\n`}</code></pre>\n    <p><inlineCode parentName=\"p\">{`incidents.json`}</inlineCode>{` is the JSON lines formatted file with properly formatted fields for consumption in AI manager.`}</p>\n    <h2>{`Copy JSON file to MinIO`}</h2>\n    <p>{`The next step is to copy the file to MinIO.`}</p>\n    <p>{`Compress via gzip the file before copying to the model-train console so that the transfer will be quicker. Call the file `}<inlineCode parentName=\"p\">{`incidents.json.gz`}</inlineCode>{`. Copy the file to the model-train console.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc cp incidents.json.gz $(oc get pods -l app.kubernetes.io/component=model-train-console -o jsonpath='{ .items[*].metadata.name }'):/home/zeno/\n`}</code></pre>\n    <p>{`Log in to the model-train console.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`oc exec -it $(oc get pods -l app.kubernetes.io/component=model-train-console -o jsonpath='{ .items[*].metadata.name }') -- bash\n`}</code></pre>\n    <p>{`Once logged in to the model-train console, decompress the JSON file.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`gunzip incidents.json.gz\n`}</code></pre>\n    <p>{`Create a MinIO bucket for `}<inlineCode parentName=\"p\">{`$SIMILAR_INCIDENTS`}</inlineCode>{` if not done previously. If the bucket is already defined, we can ignore the `}<inlineCode parentName=\"p\">{`BucketAlreadyOwnedByYou`}</inlineCode>{` error message.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aws s3 mb s3://$SIMILAR_INCIDENTS\n`}</code></pre>\n    <p>{`Copy incidents.json file to MinIO.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`aws s3 cp incidents.json s3://$SIMILAR_INCIDENTS\n`}</code></pre>\n    <h2>{`Train the similar incidents model`}</h2>\n    <p>{`From the model-train console, navigate to the `}<inlineCode parentName=\"p\">{`incident`}</inlineCode>{` directory:`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`cd incident\n`}</code></pre>\n    <p>{`Back up the original `}<inlineCode parentName=\"p\">{`index_incident.sh`}</inlineCode>{` file.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`mv index_incident.sh index_incidents.orig\n`}</code></pre>\n    <p>{`For v2.1, there is an updated script for launching the training published in the Knowledge Center documentation. View  `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.ibm.com/support/knowledgecenter/SSQLRP_2.1/train/aiops-train-model-is.html?view=kc#script\"\n      }}>{`index_incident.sh`}</a>{`, copy the text, and paste it in file `}<inlineCode parentName=\"p\">{`/home/zeno/incident/index_incident.sh`}</inlineCode>{` in the model-train console.`}</p>\n    <p>{`There is a line near the end of the script that deploys the model once the training is complete. On that line, the name of the script needs changed from `}<inlineCode parentName=\"p\">{`deploy_model.py`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`deploy_model.pyc`}</inlineCode>{` (add a `}<inlineCode parentName=\"p\">{`c`}</inlineCode>{` to the end). If this is not done, we will see an error message at the end of the script output and the model will not be deployed.`}</p>\n    <p>{`Assign executable permission to the script.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`chmod +x index_incidents.sh\n`}</code></pre>\n    <p>{`In order to start the training job, we need the `}<inlineCode parentName=\"p\">{`application_group_id`}</inlineCode>{` and the `}<inlineCode parentName=\"p\">{`application_id`}</inlineCode>{` for the application. These IDs are generated by AI Manager when a new application (and group) are defined in the console. The values of these IDs can be found in the console. If we go to the application page in the console, the values are found in the URL or we can start an insights model wizard and find the values in the instructions.`}</p>\n    <p>{`Run the following command to train the incident similarity model, using the values for `}<inlineCode parentName=\"p\">{`app_group_id`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`app_id`}</inlineCode>{` appropriate to your environment. We are using nohup to start the process in the background`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`app_group_id=ghgjy5um; app_id=71cyvyal; nohup bash index_incidents.sh s3://$SIMILAR_INCIDENTS/incidents.json $app_group_id $app_id >nohup.out 2>&1 </dev/null &\n`}</code></pre>\n    <p>{`This can run for some time, in the sample below there were almost 10,000 incidents and the runtime was nearly 30 minutes.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<user1>$ app_group_id=ghgjy5um; app_id=71cyvyal; bash index_incidents.sh s3://$SIMILAR_INCIDENTS/incidents.json $app_group_id $app_id\nDownloading data file from s3://similar-incident-service/incidents.json to /tmp/tmp.rAX5IVwwsP\ndownload: s3://similar-incident-service/incidents.json to ../../../tmp/tmp.rAX5IVwwsP\nSuccessfully downloaded file\nNormalizing incients from /tmp/tmp.rAX5IVwwsP to /tmp/tmp.rAX5IVwwsP.out\nIndexing incients from /tmp/tmp.rAX5IVwwsP.out\n\ncurl -X POST \"https://db2-aimanager-aio-similar-incidents-service.aimgr21.svc:8000/v2/upload_incidents/ghgjy5um/71cyvyal?init_es=true&need_normalization=false\" -H \"accept: application/json\" -H \"Content-Type: multipart/form-data\" -F \"file=@/tmp/tmp.rAX5IVwwsP.out;type=application/json\" -v --cacert /etc/ssl/certs/ca-root-cert.pem\nNote: Unnecessary use of -X or --request, POST is already inferred.\n*   Trying 172.21.242.206...\n* TCP_NODELAY set\n* Connected to db2-aimanager-aio-similar-incidents-service.aimgr21.svc (172.21.242.206) port 8000 (#0)\n* ALPN, offering h2\n* ALPN, offering http/1.1\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/certs/ca-root-cert.pem\n  CApath: none\n* TLSv1.3 (OUT), TLS handshake, Client hello (1):\n* TLSv1.3 (IN), TLS handshake, Server hello (2):\n* TLSv1.2 (IN), TLS handshake, Certificate (11):\n* TLSv1.2 (IN), TLS handshake, Server key exchange (12):\n* TLSv1.2 (IN), TLS handshake, Server finished (14):\n* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):\n* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):\n* TLSv1.2 (OUT), TLS handshake, Finished (20):\n* TLSv1.2 (IN), TLS handshake, Finished (20):\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\n* ALPN, server did not agree to a protocol\n* Server certificate:\n*  subject: C=US; ST=NY; L=NY; O=IBM; CN=*.aimgr21\n*  start date: Dec 15 18:21:25 2020 GMT\n*  expire date: Dec 13 18:21:25 2030 GMT\n*  subjectAltName: host \"db2-aimanager-aio-similar-incidents-service.aimgr21.svc\" matched cert's \"*.aimgr21.svc\"\n*  issuer: C=US; ST=NY; L=NY; O=IBM; CN=*.aimgr21\n*  SSL certificate verify ok.\n> POST /v2/upload_incidents/ghgjy5um/71cyvyal?init_es=true&need_normalization=false HTTP/1.1\n> Host: db2-aimanager-aio-similar-incidents-service.aimgr21.svc:8000\n> User-Agent: curl/7.61.1\n> accept: application/json\n> Content-Length: 56087188\n> Content-Type: multipart/form-data; boundary=------------------------6547eb370cb61dc5\n> Expect: 100-continue\n>\n< HTTP/1.1 100 Continue\n< HTTP/1.1 200 OK\n< date: Tue, 09 Mar 2021 19:04:46 GMT\n< server: uvicorn\n< content-length: 56\n< content-type: application/json\n<\n* Connection #0 to host db2-aimanager-aio-similar-incidents-service.aimgr21.svc left intact\n{\"message\":\"Inserted 9523 incidents into elasticsearch\"}\nFinished indexing incidents\nDeploying the incident pipeline\n        updating elastic search database (for front-end only)\n`}</code></pre>\n    <h2>{`Verify model`}</h2>\n    <p>{`Run the following command inside of the model-train console to verify that the model was trained and is inside ElasticSearch database.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -s -u $ES_USERNAME:$ES_PASSWORD -XGET $ES_URL/_cat/indices --insecure | grep normalized-incidents\n`}</code></pre>\n    <p>{`The example below shows expected output.`}</p>\n    <pre><code parentName=\"pre\" {...{}}>{`<user1>$ curl -s -u $ES_USERNAME:$ES_PASSWORD -XGET $ES_URL/_cat/indices --insecure | grep normalized-incidents\ngreen open normalized-incidents-ghgjy5um-71cyvyal         PEcA5QFGQkuha6zct8mhBA 1 1      9523   0  62.9mb  30.7mb\n`}</code></pre>\n    <p>{`We can also verify the model by drilling down the application in the console and viewing the Insight Models tab. There we should see Status `}<inlineCode parentName=\"p\">{`Running`}</inlineCode>{` for the Similar incident model and version `}<inlineCode parentName=\"p\">{`0`}</inlineCode>{`.`}</p>\n    <p>{`Congratulations, we have configured incident similarity for AI Manager!`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}